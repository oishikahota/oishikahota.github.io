<!DOCTYPE html>
<html>
  <head>
    <title>Leaflet Heatmap Example with GeoJSON</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.js"></script>
    <script src="https://leaflet.github.io/Leaflet.heat/dist/leaflet-heat.js"></script>
  </head>
  <body>
    <div id="map" style="height: 500px;"></div>

    <script>
      // Initialize Leaflet map
      var map = L.map("map").setView([42.3601, -71.0589], 11);

      // Add base layer (e.g. OpenStreetMap)
      L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',
        maxZoom: 18,
      }).addTo(map);

      // Load GeoJSON data from file
      fetch("https://cdn.glitch.global/dcb28440-57a0-4b46-a80d-5e9c0f913b04/merge__Police_Dis__Boston%20Sho%20(1).geojson?v=1681261220591")
        .then((response) => response.json())
        .then((data) => {
          // Create an empty GeoJSON layer
          var geoJsonLayer = L.geoJSON().addTo(map);

          // Add the data to the GeoJSON layer
          geoJsonLayer.addData(data);

          // Create a heat layer using the GeoJSON data
         var heatLayer = L.heatLayer(data.features.map(feature => feature.geometry.coordinates.reverse().concat(feature.properties.Number)), {
    radius: 25,
    blur: 15,
    maxZoom: 17,
}).addTo(map);

        });
    </script>
  </body>
</html>
